
# syndesis defaults
export SYNDESIS_NAMESPACE=syndesis
export SYNDESIS_WKS=$HOME/work/redhat/dev/syndesis-go/src/github.com/syndesisio/syndesis

if [ -f ${SYNDESIS_WKS}/tools/bin/syndesis ]; then
    # add to path
    pathadd ${SYNDESIS_WKS}/tools/bin

    # bash completion
    source <(${SYNDESIS_WKS}/tools/bin/syndesis completion bash)

    function syndesis-env {
        export SYNDESIS_URL=https://syndesis.$(minishift ip).nip.io
    }

    function syndesis-minishift-reset {
        $SYNDESIS_WKS/tools/bin/syndesis minishift --install --project syndesis
    }

    function syndesis-get-app-secret {
        oc get secret $1 -o jsonpath="{.data.application\.properties}" | base64 -d
    }

    function syndesis-mvn-reset {
        rm -rvf $M2_REPO/io/syndesis
    }

    function syndesis-scale {
        for dc in $(oc get dc -n syndesis -o name) 
        do 
            oc scale $dc --replicas=$1
        done
    }
fi
